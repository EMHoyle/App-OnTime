{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maria Elena\\\\Desktop\\\\Programaci\\xF3n\\\\Bluuweb\\\\Next\\\\ontime\\\\components\\\\TaskM\\\\TaskM.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Input, Label } from 'reactstrap'; //constante\n\nconst url = \"https://jsonplaceholder.typicode.com/todos/\";\nconst initState = {\n  todo: [],\n  modalInsertar: false,\n  modalEliminar: false,\n  tipoModal: \"\",\n  form: {\n    id: \"\",\n    title: \"\",\n    completed: false\n  }\n};\nexport class TaskM extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"modalInsertar\", () => {\n      this.setState({\n        modalInsertar: !this.state.modalInsertar\n      });\n    });\n\n    _defineProperty(this, \"handleChange\", async e => {\n      e.persist();\n      await this.setState({\n        form: _objectSpread(_objectSpread({}, this.state.form), {}, {\n          [e.target.name]: e.target.value,\n          [e.target.name]: e.target.checked\n        })\n      });\n      console.log(this.state.form);\n    });\n\n    _defineProperty(this, \"seleccionarTask\", todo => {\n      this.setState({\n        tipoModal: \"actualizar\",\n        form: {\n          id: todo.id,\n          title: todo.title\n        }\n      });\n    });\n\n    _defineProperty(this, \"peticionGet\", () => {\n      axios.get(url).then(response => {\n        this.setState({\n          todo: response.data\n        });\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    _defineProperty(this, \"peticionPost\", () => axios.post(url, this.state.form).then(response => {\n      if (response.status === 201) this.setState(oldState => _objectSpread(_objectSpread({}, initState), {}, {\n        todo: [...oldState.todo, oldState.form],\n        modalInsertar: !oldState.modalInsertar\n      }));\n    }).catch(error => {\n      console.log(error.message);\n    }));\n\n    _defineProperty(this, \"peticionPut\", () => {\n      axios.put(`${url}${this.state.form.id}`, this.state.form).then(response => {\n        if (response.status === 200) {\n          const newToDo = [...this.state.todo];\n          newToDo[this.state.form.id - 1].title = this.state.form.title;\n          this.setState(oldState => _objectSpread(_objectSpread({}, initState), {}, {\n            todo: newToDo,\n            modalInsertar: !oldState.modalInsertar\n          }));\n        }\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    _defineProperty(this, \"peticionDelete\", () => {\n      axios.delete(url + this.state.form.id).then(response => {\n        if (response.status === 200) {\n          const newToDo = this.state.todo.filter(task => task.id !== this.state.form.id);\n          this.setState(_objectSpread(_objectSpread({}, initState), {}, {\n            todo: newToDo,\n            modalEliminar: false\n          }));\n        }\n      }).catch(error => {\n        console.log(error.message);\n      });\n    });\n\n    this.state = {\n      todo: [],\n      modalInsertar: false,\n      modalEliminar: false,\n      tipoModal: \"\",\n      form: {\n        id: \"\",\n        title: \"\",\n        completed: false\n      }\n    };\n  } //acciones\n\n\n  componentDidMount() {\n    this.peticionGet();\n  } //Task Manager\n\n\n  render() {\n    const {\n      form\n    } = this.state;\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }), __jsx(Button, {\n      className: \"btn btn-success\",\n      onClick: () => this.setState(oldState => _objectSpread(_objectSpread({}, oldState), {}, {\n        modalInsertar: !oldState.modalInsertar,\n        tipoModal: \"insertar\",\n        form: {\n          id: this.state.todo.length + 1,\n          title: \"\"\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, \"Agregar Task\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 27\n      }\n    }), __jsx(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }, __jsx(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 29\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 33\n      }\n    }, \"ID\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 33\n      }\n    }, \"TASK\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 33\n      }\n    }, \"ESTATUS\"), __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 33\n      }\n    }, \"ACCIONES\"))), __jsx(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, this.state.todo.map(userID => {\n      return __jsx(\"tr\", {\n        key: userID.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 37\n        }\n      }, __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 41\n        }\n      }, userID.id), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 41\n        }\n      }, userID.title), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 41\n        }\n      }, __jsx(\"input\", {\n        type: \"checkbox\",\n        checked: form.completed,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 45\n        }\n      }), userID.completed), __jsx(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 41\n        }\n      }, __jsx(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => {\n          this.seleccionarTask(userID);\n          this.modalInsertar();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 45\n        }\n      }, \"Editar\"), \"   \", __jsx(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => {\n          this.seleccionarTask(userID);\n          this.setState({\n            modalEliminar: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }\n      }, \"Eliminar\")));\n    })))), __jsx(Modal, {\n      isOpen: this.state.modalInsertar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, __jsx(ModalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }, \"Nueva Task\"), __jsx(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, __jsx(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, __jsx(Label, {\n      htmlFor: \"id\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, \"ID\"), __jsx(Input, {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"id\",\n      id: \"id\",\n      readOnly: true,\n      onChange: this.handleChange,\n      value: form.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }), __jsx(Label, {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 25\n      }\n    }, \"Task\"), __jsx(Input, {\n      className: \"form-control\",\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      onChange: this.handleChange,\n      value: form.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }\n    }))), __jsx(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, this.state.tipoModal == \"insertar\" ? __jsx(Button, {\n      className: \"btn btn-success\",\n      onClick: () => this.peticionPost(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 25\n      }\n    }, \"Agregar\") : __jsx(Button, {\n      className: \"btn btn-success\",\n      onClick: () => this.peticionPut(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 25\n      }\n    }, \"Actualizar\"), __jsx(Button, {\n      className: \"btn btn-danger\",\n      onClick: () => this.modalInsertar(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, \"Cancelar\"))), __jsx(Modal, {\n      isOpen: this.state.modalEliminar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, __jsx(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, \"Est\\xE1s seguro que deseas eliminar esta Task? \", form && form.title), __jsx(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, __jsx(Button, {\n      className: \"btn btn-success\",\n      onClick: () => this.peticionDelete(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, \"Si\"), __jsx(Button, {\n      className: \"btn btn-danger\",\n      onClick: () => this.setState({\n        modalEliminar: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 25\n      }\n    }, \"NO\"))));\n  }\n\n}\nexport default TaskM;","map":{"version":3,"sources":["C:/Users/Maria Elena/Desktop/Programación/Bluuweb/Next/ontime/components/TaskM/TaskM.js"],"names":["React","Component","axios","Button","Modal","ModalHeader","ModalBody","ModalFooter","FormGroup","Input","Label","url","initState","todo","modalInsertar","modalEliminar","tipoModal","form","id","title","completed","TaskM","constructor","props","setState","state","e","persist","target","name","value","checked","console","log","get","then","response","data","catch","error","message","post","status","oldState","put","newToDo","delete","filter","task","componentDidMount","peticionGet","render","length","map","userID","handleChange","seleccionarTask","peticionPost","peticionPut","peticionDelete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {Button, Modal, ModalHeader, ModalBody, ModalFooter, FormGroup, Input, Label} from 'reactstrap';\r\n\r\n//constante\r\nconst url = \"https://jsonplaceholder.typicode.com/todos/\";\r\nconst initState = { \r\n            todo: [],\r\n            modalInsertar: false,\r\n            modalEliminar: false,\r\n            tipoModal: \"\",\r\n            form: {\r\n                id: \"\",\r\n                title: \"\",\r\n                completed: false\r\n              },\r\n        };\r\n\r\nexport class TaskM extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = { \r\n            todo: [],\r\n            modalInsertar: false,\r\n            modalEliminar: false,\r\n            tipoModal: \"\",\r\n            form: {\r\n                id: \"\",\r\n                title: \"\",\r\n                completed: false\r\n              },\r\n        };\r\n    }\r\n\r\n//acciones\r\n    modalInsertar=()=>{\r\n        this.setState({modalInsertar: !this.state.modalInsertar});\r\n    }\r\n    \r\n    handleChange= async e=>{\r\n        e.persist();\r\n        await this.setState({\r\n            form: {\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value,\r\n                [e.target.name]: e.target.checked,\r\n            }\r\n        });\r\n        console.log(this.state.form);\r\n    }\r\n\r\n    seleccionarTask=(todo)=>{\r\n        this.setState({\r\n            tipoModal: \"actualizar\",\r\n            form: {\r\n                id: todo.id,\r\n                title: todo.title\r\n            }\r\n        })\r\n    }\r\n\r\n//peticiones\r\n    peticionGet= () => {\r\n        axios.get(url).then(response=>{\r\n            this.setState({todo: response.data});\r\n        }).catch(error=>{\r\n            console.log(error.message);\r\n          })\r\n    }\r\n\r\n    peticionPost = () => axios.post(url, this.state.form).then(response=>{\r\n        if (response.status === 201)\r\n           this.setState(oldState => ({...initState, todo: [...oldState.todo, oldState.form], modalInsertar: !oldState.modalInsertar, }))\r\n            }).catch(error=>{\r\n            console.log(error.message);\r\n    })\r\n\r\n    peticionPut = () => {\r\n        axios.put(`${url}${this.state.form.id}`, this.state.form).then(response=>{\r\n          if (response.status === 200) {\r\n              const newToDo = [...this.state.todo]\r\n              newToDo[this.state.form.id - 1].title = this.state.form.title\r\n              this.setState(oldState => ({...initState, todo: newToDo, modalInsertar: !oldState.modalInsertar, }))\r\n          }\r\n        }).catch(error=>{\r\n           console.log(error.message);\r\n    })}\r\n\r\n    peticionDelete=()=>{\r\n        axios.delete(url + this.state.form.id).then(response=>{\r\n            if (response.status === 200) {\r\n                const newToDo = this.state.todo.filter(task => task.id !== this.state.form.id);\r\n                this.setState({...initState, todo: newToDo, modalEliminar: false })\r\n            }\r\n        }).catch(error=>{\r\n            console.log(error.message);\r\n     })}\r\n    \r\n    componentDidMount() {\r\n        this.peticionGet();\r\n    }\r\n\r\n//Task Manager\r\n    render() {\r\n        const {form} = this.state;\r\n        return (\r\n            <>\r\n                <div className=\"App\">\r\n                    <br />\r\n                    <Button\r\n                        className=\"btn btn-success\" \r\n                        onClick={\r\n                            () => this.setState(oldState => ({\r\n                                    ...oldState,\r\n                                    modalInsertar: !oldState.modalInsertar,\r\n                                    tipoModal: \"insertar\",\r\n                                    form: {\r\n                                        id: this.state.todo.length+1,\r\n                                        title: \"\",\r\n                                      }\r\n                                }))}\r\n                    >\r\n                                Agregar Task\r\n                    </Button>\r\n                    <br /><br />\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                            <tr >\r\n                                <th>ID</th>\r\n                                <th>TASK</th>\r\n                                <th>ESTATUS</th>\r\n                                <th>ACCIONES</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.todo.map((userID,)=>{\r\n                                return(\r\n                                    <tr key={userID.id}>\r\n                                        <td>{userID.id}</td>\r\n                                        <td>{userID.title}</td>\r\n                                        <td>\r\n                                            <input \r\n                                            type=\"checkbox\"\r\n                                            checked={form.completed}\r\n                                            onChange={this.handleChange}\r\n                                            >\r\n                                            </input>\r\n                                            {userID.completed}\r\n                                        </td>\r\n                                        <td>\r\n                                            <button className=\"btn btn-secondary\" \r\n                                            onClick={()=>{this.seleccionarTask(userID); this.modalInsertar()}}>Editar</button>\r\n                                            {\"   \"}\r\n                                            <button className=\"btn btn-danger\"\r\n                                            onClick={()=>{this.seleccionarTask(userID); this.setState({modalEliminar: true})}}\r\n                                            >Eliminar</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                {/* Modal Agregar/Editar */}\r\n                <Modal isOpen={this.state.modalInsertar}>\r\n                    <ModalHeader>\r\n                    Nueva Task\r\n                    </ModalHeader>\r\n                    <ModalBody>\r\n                    <FormGroup>\r\n                        <Label htmlFor=\"id\">ID</Label>\r\n                        <Input \r\n                        className=\"form-control\" \r\n                        type=\"text\" \r\n                        name=\"id\"  \r\n                        id= \"id\"\r\n                        readOnly \r\n                        onChange={this.handleChange}\r\n                        value={form.id}/>\r\n                        <br />\r\n                        <Label htmlFor=\"title\">Task</Label>\r\n                        <Input \r\n                        className=\"form-control\" \r\n                        type=\"text\" \r\n                        name=\"title\" \r\n                        id=\"title\"\r\n                        onChange={this.handleChange}\r\n                        value={form.title}/> \r\n                    </FormGroup>\r\n                    </ModalBody>\r\n\r\n                    <ModalFooter>\r\n                        {this.state.tipoModal == \"insertar\"?\r\n                        <Button className=\"btn btn-success\" onClick={()=>this.peticionPost()}>Agregar</Button>:\r\n                        <Button className=\"btn btn-success\" onClick={()=>this.peticionPut()}>Actualizar</Button>\r\n                        }\r\n                        <Button className=\"btn btn-danger\" onClick={()=>this.modalInsertar()}>Cancelar</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n\r\n                {/* Modal Eliminar */}\r\n                <Modal isOpen={this.state.modalEliminar}>\r\n                    <ModalBody>\r\n                        Estás seguro que deseas eliminar esta Task? {form && form.title}\r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                        <Button className=\"btn btn-success\" onClick={()=>this.peticionDelete()}>Si</Button>\r\n                        <Button className=\"btn btn-danger\" onClick={()=>this.setState({modalEliminar: false})}>NO</Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TaskM"]},"metadata":{},"sourceType":"module"}