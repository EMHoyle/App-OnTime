{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maria Elena\\\\Desktop\\\\Programaci\\xF3n\\\\Bluuweb\\\\Next\\\\ontime\\\\components\\\\crud\\\\main\\\\index1.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Axios from 'axios'; // import API from 'api';\n\nimport './styles.module.css';\nimport Mdl from '../features/modal';\nconst URL = 'http://react.techuno.net/class/crud';\nconst CREATE_URL = 'http://react.techuno.net/class/crud/create-student';\nconst DELETE_URL = 'http://react.techuno.net/class/crud/delete-student/'; // const URL = 'https://jsonplaceholder.typicode.com/students'\n\nclass StudentPortal extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      student: [],\n      formItem: {\n        name: \"\",\n        image: \"\",\n        dept: \"\"\n      },\n      isModalOpen: false\n    });\n\n    _defineProperty(this, \"createStudent\", e => {\n      e.preventDefault();\n      const {\n        name,\n        dept,\n        image\n      } = this.state.formItem;\n      console.log(name, dept, image);\n      Axios.post(CREATE_URL, {\n        name: 'Fred'\n      }).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    });\n\n    _defineProperty(this, \"handleDelete\", id => {\n      Axios.delete(`${DELETE_URL}${id}`).then(res => {\n        if (res.status == 200) {\n          const student = this.state.student.filter(student => student.id != id);\n          this.setState({\n            student\n          });\n        }\n\n        console.log(res.data);\n      }).catch(e => console.log(e));\n    });\n\n    _defineProperty(this, \"changeHandler\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"modalHandler\", () => {\n      this.setState({\n        isModalOpen: !this.state.isModalOpen\n      });\n    });\n\n    _defineProperty(this, \"modalCloseHandler\", () => {\n      this.setState({\n        isModalOpen: !this.state.isModalOpen\n      });\n    });\n  }\n\n  componentDidMount() {\n    Axios.get(URL).then(res => this.setState({\n      student: res.data\n    })).catch(e => console.log(e));\n  }\n\n  render() {\n    console.log(this.state);\n    return (// <div>\n      //     <h3>Online students</h3>\n      //     <ul>\n      //         {this.state.student.map(({title,id}) => <li key={id}>{title}</li>)}\n      //     </ul>\n      // </div>\n      __jsx(\"div\", {\n        className: \"main_portal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"col-lg-12 viw\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      }, __jsx(\"button\", {\n        className: \"btn btn-sm btn-info\",\n        onClick: this.modalHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, \"Add Student\")), __jsx(Mdl, {\n        isOpen: this.state.isModalOpen,\n        close: this.modalCloseHandler,\n        handleSubmit: this.createStudent,\n        changeHandler: this.changeHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }\n      }), __jsx(\"div\", {\n        className: \"container grid_view\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, \"Grid View\"), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }\n      }, this.state.student.map(({\n        id,\n        name,\n        dept,\n        image\n      }, indx) => __jsx(\"div\", {\n        className: \"col-sm-4\",\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        className: `item list-group-item-${indx % 2 === 0 ? \"info\" : \"success\"}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 37\n        }\n      }, __jsx(\"img\", {\n        className: \"profile_img\",\n        src: image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 41\n        }\n      }), __jsx(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 41\n        }\n      }, id), __jsx(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 41\n        }\n      }, name), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 41\n        }\n      }, dept), __jsx(\"button\", {\n        className: \"btn btn-sm btn-success mr-2\",\n        onClick: this.createStudent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 41\n        }\n      }, \"create\"), __jsx(\"button\", {\n        className: \"btn btn-sm btn-success mr-2\",\n        onClick: this.modalHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 41\n        }\n      }, \"Edit\"), __jsx(\"button\", {\n        className: \"btn btn-sm btn-danger\",\n        onClick: () => this.handleDelete(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 41\n        }\n      }, \"delete\")))))))))\n    );\n  }\n\n}\n\nexport default StudentPortal;","map":{"version":3,"sources":["C:/Users/Maria Elena/Desktop/Programaci√≥n/Bluuweb/Next/ontime/components/crud/main/index1.js"],"names":["React","Axios","Mdl","URL","CREATE_URL","DELETE_URL","StudentPortal","Component","student","formItem","name","image","dept","isModalOpen","e","preventDefault","state","console","log","post","then","response","catch","error","id","delete","res","status","filter","setState","data","target","value","componentDidMount","get","render","modalHandler","modalCloseHandler","createStudent","changeHandler","map","indx","handleDelete"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,qBAAP;AAEA,OAAOC,GAAP,MAAgB,mBAAhB;AAEA,MAAMC,GAAG,GAAG,qCAAZ;AACA,MAAMC,UAAU,GAAG,oDAAnB;AACA,MAAMC,UAAU,GAAG,qDAAnB,C,CACA;;AAGA,MAAMC,aAAN,SAA4BN,KAAK,CAACO,SAAlC,CAA4C;AAAA;AAAA;;AAAA,mCAChC;AACJC,MAAAA,OAAO,EAAE,EADL;AAEJC,MAAAA,QAAQ,EAAE;AACNC,QAAAA,IAAI,EAAE,EADA;AAENC,QAAAA,KAAK,EAAE,EAFD;AAGNC,QAAAA,IAAI,EAAE;AAHA,OAFN;AAOJC,MAAAA,WAAW,EAAE;AAPT,KADgC;;AAAA,2CAqBxBC,CAAC,IAAI;AACjBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAM;AAACL,QAAAA,IAAD;AAAME,QAAAA,IAAN;AAAWD,QAAAA;AAAX,UAAoB,KAAKK,KAAL,CAAWP,QAArC;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ,EAAiBE,IAAjB,EAAsBD,KAAtB;AAEAV,MAAAA,KAAK,CAACkB,IAAN,CAAWf,UAAX,EACQ;AACAM,QAAAA,IAAI,EAAE;AADN,OADR,EAIGU,IAJH,CAIQ,UAAUC,QAAV,EAAoB;AACxBJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACD,OANH,EAOGC,KAPH,CAOS,UAAUC,KAAV,EAAiB;AACtBN,QAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACD,OATH;AAWH,KArCuC;;AAAA,0CAuCzBC,EAAE,IAAI;AAEjBvB,MAAAA,KAAK,CAACwB,MAAN,CAAc,GAAEpB,UAAW,GAAEmB,EAAG,EAAhC,EACKJ,IADL,CACUM,GAAG,IAAI;AACT,YAAGA,GAAG,CAACC,MAAJ,IAAc,GAAjB,EAAqB;AACjB,gBAAMnB,OAAO,GAAG,KAAKQ,KAAL,CAAWR,OAAX,CAAmBoB,MAAnB,CAA0BpB,OAAO,IAAIA,OAAO,CAACgB,EAAR,IAAcA,EAAnD,CAAhB;AACA,eAAKK,QAAL,CAAc;AAACrB,YAAAA;AAAD,WAAd;AACH;;AACLS,QAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACI,IAAhB;AACH,OAPD,EAOGR,KAPH,CAOSR,CAAC,IAAIG,OAAO,CAACC,GAAR,CAAYJ,CAAZ,CAPd;AASH,KAlDuC;;AAAA,2CAoDxBA,CAAC,IAAI;AACjB,WAAKe,QAAL,CAAc;AACV,SAACf,CAAC,CAACiB,MAAF,CAASrB,IAAV,GAAkBI,CAAC,CAACiB,MAAF,CAASC;AADjB,OAAd;AAGH,KAxDuC;;AAAA,0CA0DzB,MAAM;AACjB,WAAKH,QAAL,CAAc;AAAChB,QAAAA,WAAW,EAAE,CAAC,KAAKG,KAAL,CAAWH;AAA1B,OAAd;AACH,KA5DuC;;AAAA,+CA6DpB,MAAM;AACtB,WAAKgB,QAAL,CAAc;AAAChB,QAAAA,WAAW,EAAE,CAAC,KAAKG,KAAL,CAAWH;AAA1B,OAAd;AACH,KA/DuC;AAAA;;AAWxCoB,EAAAA,iBAAiB,GAAE;AAEfhC,IAAAA,KAAK,CAACiC,GAAN,CAAU/B,GAAV,EACSiB,IADT,CACcM,GAAG,IAAI,KAAKG,QAAL,CAAc;AAACrB,MAAAA,OAAO,EAAEkB,GAAG,CAACI;AAAd,KAAd,CADrB,EAESR,KAFT,CAEeR,CAAC,IAAIG,OAAO,CAACC,GAAR,CAAYJ,CAAZ,CAFpB;AAMH;;AA8CDqB,EAAAA,MAAM,GAAE;AACJlB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAjB;AAEA,WACI;AACA;AACA;AACA;AACA;AACA;AAEA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAS,QAAA,SAAS,EAAC,qBAAnB;AAAyC,QAAA,OAAO,EAAE,KAAKoB,YAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADA,CADJ,EASI,MAAC,GAAD;AACI,QAAA,MAAM,EAAE,KAAKpB,KAAL,CAAWH,WADvB;AAEI,QAAA,KAAK,EAAE,KAAKwB,iBAFhB;AAGI,QAAA,YAAY,EAAE,KAAKC,aAHvB;AAII,QAAA,aAAa,EAAE,KAAKC,aAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATJ,EAkBI;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEK,KAAKvB,KAAL,CAAWR,OAAX,CAAmBgC,GAAnB,CAAuB,CAAC;AAAChB,QAAAA,EAAD;AAAId,QAAAA,IAAJ;AAASE,QAAAA,IAAT;AAAcD,QAAAA;AAAd,OAAD,EAAsB8B,IAAtB,KACxB;AAAK,QAAA,SAAS,EAAC,UAAf;AAA0B,QAAA,GAAG,EAAEjB,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAG,wBAAuBiB,IAAI,GAAC,CAAL,KAAS,CAAT,GAAW,MAAX,GAAkB,SAAU,EAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,GAAG,EAAE9B,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKa,EAAL,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKd,IAAL,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIE,IAAJ,CAJJ,EAKI;AAAS,QAAA,SAAS,EAAC,6BAAnB;AAAiD,QAAA,OAAO,EAAE,KAAK0B,aAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,EAMI;AAAS,QAAA,SAAS,EAAC,6BAAnB;AAAiD,QAAA,OAAO,EAAE,KAAKF,YAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,EAOI;AAAS,QAAA,SAAS,EAAC,uBAAnB;AAA2C,QAAA,OAAO,EAAE,MAAM,KAAKM,YAAL,CAAkBlB,EAAlB,CAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,CADJ,CADC,CAFL,CAFJ,CAlBJ,CADJ,CAFJ;AARJ;AA8DH;;AAlIuC;;AAqI5C,eAAelB,aAAf","sourcesContent":["import React from 'react';\r\nimport Axios from 'axios'\r\n// import API from 'api';\r\nimport './styles.module.css'\r\n\r\nimport Mdl from '../features/modal'\r\n\r\nconst URL = 'http://react.techuno.net/class/crud'\r\nconst CREATE_URL = 'http://react.techuno.net/class/crud/create-student'\r\nconst DELETE_URL = 'http://react.techuno.net/class/crud/delete-student/'\r\n// const URL = 'https://jsonplaceholder.typicode.com/students'\r\n\r\n\r\nclass StudentPortal extends React.Component { \r\n    state = {\r\n        student: [],\r\n        formItem: {\r\n            name: \"\",\r\n            image: \"\",\r\n            dept: \"\"\r\n        },\r\n        isModalOpen: false\r\n    }\r\n\r\n    componentDidMount(){\r\n        \r\n        Axios.get(URL)\r\n                .then(res => this.setState({student: res.data}))\r\n                .catch(e => console.log(e))\r\n                \r\n        \r\n\r\n    }\r\n\r\n    createStudent = e => {\r\n        e.preventDefault();\r\n        const {name,dept,image} = this.state.formItem;\r\n        console.log(name,dept,image)\r\n\r\n        Axios.post(CREATE_URL,\r\n                {\r\n                name: 'Fred'\r\n            })\r\n          .then(function (response) {\r\n            console.log(response);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error); \r\n          });\r\n\r\n    }\r\n\r\n    handleDelete = id => {\r\n\r\n        Axios.delete(`${DELETE_URL}${id}`)\r\n            .then(res => {\r\n                if(res.status == 200){\r\n                    const student = this.state.student.filter(student => student.id != id);\r\n                    this.setState({student});\r\n                }\r\n            console.log(res.data);\r\n        }).catch(e => console.log(e));\r\n\r\n    }\r\n\r\n    changeHandler = e => {\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    modalHandler = () => {\r\n        this.setState({isModalOpen: !this.state.isModalOpen})\r\n    }\r\n    modalCloseHandler = () => {\r\n        this.setState({isModalOpen: !this.state.isModalOpen}) \r\n    }\r\n\r\n    render(){\r\n        console.log(this.state)\r\n       \r\n        return (\r\n            // <div>\r\n            //     <h3>Online students</h3>\r\n            //     <ul>\r\n            //         {this.state.student.map(({title,id}) => <li key={id}>{title}</li>)}\r\n            //     </ul>\r\n            // </div>\r\n\r\n            <div className=\"main_portal\">\r\n                \r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-12 viw\">\r\n                        <div>\r\n                        <button  className=\"btn btn-sm btn-info\" onClick={this.modalHandler}>Add Student</button>\r\n                        </div>\r\n                        {/* <div className=\"d-flex justify-content-end\">\r\n                        <button onClick={() => handleViewChange(\"1\")} className={`btn btn-${viewStatus === \"1\" ? \"success\" : \"info\"} mr-2`}>List View</button>\r\n                        <button onClick={() => handleViewChange(\"2\")} className={`btn btn-${viewStatus === \"2\" ? \"success\" : \"info\"} mr-2`}>Grid View</button>\r\n                        <button onClick={() => handleViewChange(\"3\")} className={`btn btn-${viewStatus === \"3\" ? \"success\" : \"info\"} mr-2`}>Table View</button>\r\n                        </div> */}\r\n                        <Mdl \r\n                            isOpen={this.state.isModalOpen}\r\n                            close={this.modalCloseHandler}\r\n                            handleSubmit={this.createStudent}\r\n                            changeHandler={this.changeHandler}\r\n                        />\r\n\r\n\r\n                        \r\n                        <div className=\"container grid_view\">\r\n                            <h3>Grid View</h3>\r\n                            <div className=\"row\">\r\n                        \r\n                                {this.state.student.map(({id,name,dept,image},indx) =>\r\n                                <div className=\"col-sm-4\" key={id}>\r\n                                    <div className={`item list-group-item-${indx%2===0?\"info\":\"success\"}`}>\r\n                                        <img className=\"profile_img\" src={image}/>\r\n                                        <h6>{id}</h6>\r\n                                        <h5>{name}</h5>\r\n                                        <p>{dept}</p>\r\n                                        <button  className=\"btn btn-sm btn-success mr-2\" onClick={this.createStudent}>create</button>\r\n                                        <button  className=\"btn btn-sm btn-success mr-2\" onClick={this.modalHandler}>Edit</button>\r\n                                        <button  className=\"btn btn-sm btn-danger\" onClick={() => this.handleDelete(id)}>delete</button>\r\n                                    </div>\r\n                                </div>\r\n                                )}\r\n                        \r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default StudentPortal;"]},"metadata":{},"sourceType":"module"}