{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Maria Elena\\\\Desktop\\\\Programaci\\xF3n\\\\Bluuweb\\\\Next\\\\ontime\\\\components\\\\New\\\\contacts\\\\EditContact.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { Consumer } from \"../context/context\";\nimport TextInputGroup from \"../layout/TextInputGroup\";\nimport axios from \"axios\";\n\nvar AddContact = /*#__PURE__*/function (_Component) {\n  _inherits(AddContact, _Component);\n\n  var _super = _createSuper(AddContact);\n\n  function AddContact() {\n    var _this;\n\n    _classCallCheck(this, AddContact);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      // Create an error object to catch and send message of error\n      errors: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch, e) {\n        var _this$state, name, email, phone, updContact, id, res;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // preventDefault() we don't want to actually submit by default\n                e.preventDefault();\n                _this$state = _this.state, name = _this$state.name, email = _this$state.email, phone = _this$state.phone; // Check for Errors\n\n                if (!(name === '')) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.setState({\n                  errors: {\n                    name: 'Name is required'\n                  }\n                });\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(email === '')) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _this.setState({\n                  errors: {\n                    email: 'Email is required'\n                  }\n                });\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                if (!(phone === '')) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _this.setState({\n                  errors: {\n                    phone: 'Phone is required'\n                  }\n                });\n\n                return _context.abrupt(\"return\");\n\n              case 11:\n                updContact = {\n                  name: name,\n                  email: email,\n                  phone: phone\n                }; // We want to pull the id out of the url e.g. localhost:3000/contact/edit/1\n\n                id = _this.props.match.params.id; // Use await because of the async, then send our updContact payload\n\n                _context.next = 15;\n                return axios.put(\"https://jsonplaceholder.typicode.com/users/\".concat(id), updContact);\n\n              case 15:\n                res = _context.sent;\n                // Use the dispatch method to update contact, and pass in the payload.data above\n                dispatch({\n                  type: 'UPDATE_CONTACT',\n                  payload: res.data\n                }); // Clear State\n\n                _this.setState({\n                  name: \"\",\n                  email: \"\",\n                  phone: \"\",\n                  errors: {}\n                });\n\n                _this.props.history.push(\"/\");\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      return _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    });\n\n    return _this;\n  }\n\n  _createClass(AddContact, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var id, res, contact;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = this.props.match.params.id;\n                _context2.next = 3;\n                return axios.get(\"https://jsonplaceholder.typicode.com/users/\".concat(id));\n\n              case 3:\n                res = _context2.sent;\n                contact = res.data;\n                this.setState({\n                  name: contact.name,\n                  email: contact.email,\n                  phone: contact.phone\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // Destructuring to extrat key in state object\n      var _this$state2 = this.state,\n          name = _this$state2.name,\n          email = _this$state2.email,\n          phone = _this$state2.phone,\n          errors = _this$state2.errors;\n      return __jsx(Consumer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, function (value) {\n        var dispatch = value.dispatch;\n        return __jsx(\"div\", {\n          className: \"card mb-3\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }\n        }, __jsx(\"div\", {\n          className: \"card-header\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 29\n          }\n        }, \"Edit Contact\"), __jsx(\"div\", {\n          className: \"card-body\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }\n        }, __jsx(\"form\", {\n          onSubmit: _this2.onSubmit.bind(_this2, dispatch),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }\n        }, __jsx(TextInputGroup, {\n          label: \"Name\",\n          name: \"name\",\n          placeholder: \"Enter Name\",\n          value: name,\n          onChange: _this2.onChange,\n          error: errors.name,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 37\n          }\n        }), __jsx(TextInputGroup, {\n          label: \"Email\",\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Enter Email\",\n          value: email,\n          onChange: _this2.onChange,\n          error: errors.email,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 37\n          }\n        }), __jsx(TextInputGroup, {\n          label: \"Phone\",\n          name: \"phone\",\n          placeholder: \"Enter Phone\",\n          value: phone,\n          onChange: _this2.onChange,\n          error: errors.phone,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 37\n          }\n        }), __jsx(\"input\", {\n          type: \"submit\",\n          value: \"Edit Contact\",\n          className: \"btn btn-light btn-block\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 37\n          }\n        }))));\n      });\n    }\n  }]);\n\n  return AddContact;\n}(Component);\n\nexport default AddContact;","map":{"version":3,"sources":["C:/Users/Maria Elena/Desktop/ProgramaciÃ³n/Bluuweb/Next/ontime/components/New/contacts/EditContact.js"],"names":["React","Component","Consumer","TextInputGroup","axios","AddContact","name","email","phone","errors","dispatch","e","preventDefault","state","setState","updContact","id","props","match","params","put","res","type","payload","data","history","push","target","value","get","contact","onSubmit","bind","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Consumer } from \"../context/context\";\nimport TextInputGroup from \"../layout/TextInputGroup\";\nimport axios from \"axios\";\n\nclass AddContact extends Component {\n    state = {\n        name: \"\",\n        email: \"\",\n        phone: \"\",\n        // Create an error object to catch and send message of error\n        errors: {}\n    };\n\n    async componentDidMount() {\n        const { id } = this.props.match.params;\n        const res = await axios.get(`https://jsonplaceholder.typicode.com/users/${id}`);\n\n        const contact = res.data;\n\n        this.setState({\n            name: contact.name,\n            email: contact.email,\n            phone: contact.phone\n        })\n    }\n\n    onSubmit = async (dispatch, e) => {\n        // preventDefault() we don't want to actually submit by default\n        e.preventDefault();\n\n        const { name, email, phone } = this.state;\n\n        // Check for Errors\n        if (name === '') {\n            this.setState({ errors: { name: 'Name is required' } });\n            return;\n        }\n\n        if (email === '') {\n            this.setState({ errors: { email: 'Email is required' } });\n            return;\n        }\n\n        if (phone === '') {\n            this.setState({ errors: { phone: 'Phone is required' } });\n            return;\n        }\n        \n\n        const updContact = {\n            name,\n            email,\n            phone\n        }\n\n        // We want to pull the id out of the url e.g. localhost:3000/contact/edit/1\n        const { id } = this.props.match.params;\n\n        // Use await because of the async, then send our updContact payload\n        const res = await axios.put(`https://jsonplaceholder.typicode.com/users/${id}`, updContact);\n\n        // Use the dispatch method to update contact, and pass in the payload.data above\n        dispatch({type:'UPDATE_CONTACT', payload: res.data});\n        \n        // Clear State\n        this.setState({\n            name: \"\",\n            email: \"\",\n            phone: \"\",\n            errors: {}\n        });\n\n        this.props.history.push(\"/\");\n    };\n\n    onChange = e => this.setState({ [e.target.name]: e.target.value });\n    render() {\n        // Destructuring to extrat key in state object\n        const { name, email, phone, errors } = this.state;\n\n        return (\n            <Consumer>\n                {value => { \n                    const { dispatch } = value;\n                    return (\n                        <div className=\"card mb-3\">\n                            <div className=\"card-header\">Edit Contact</div>\n                            <div className=\"card-body\">\n                                <form\n                                    onSubmit={this.onSubmit.bind(\n                                        this,\n                                        dispatch\n                                    )}\n                                >\n                                    <TextInputGroup\n                                        label=\"Name\"\n                                        name=\"name\"\n                                        placeholder=\"Enter Name\"\n                                        value={name}\n                                        onChange={this.onChange}\n                                        error={errors.name}\n                                    />\n                                    <TextInputGroup\n                                        label=\"Email\"\n                                        name=\"email\"\n                                        type=\"email\"\n                                        placeholder=\"Enter Email\"\n                                        value={email}\n                                        onChange={this.onChange}\n                                        error={errors.email}\n                                    />\n                                    <TextInputGroup\n                                        label=\"Phone\"\n                                        name=\"phone\"\n                                        placeholder=\"Enter Phone\"\n                                        value={phone}\n                                        onChange={this.onChange}\n                                        error={errors.phone}\n                                    />\n\n                                    <input\n                                        type=\"submit\"\n                                        value=\"Edit Contact\"\n                                        className=\"btn btn-light btn-block\"\n                                    />\n                                </form>\n                            </div>\n                        </div>\n                    );\n                }}\n            </Consumer>\n        );\n    }\n}\n\nexport default AddContact;\n"]},"metadata":{},"sourceType":"module"}